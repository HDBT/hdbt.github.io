jQuery(function(d){if(jQuery().isotopeOm){var b=jQuery("#ompf-portfolio").not(".ompf-portfolio-random-items");if(b.length){var c={itemSelector:".ompf-isotope-item",animationEngine:"best-available",itemClass:"ompf-isotope-item",hiddenClass:"ompf-isotope-hidden",containerClass:"ompf-isotope",resizable:!0};b.hasClass("ompf-layout-fixed")?(jQuery.extend(c,{layoutMode:"fitRows",itemPositionDataEnabled:!0}),b.data("fit-height")&&b.hasClass("ompf-preview-layout-full")&&jQuery.extend(c,{beforeLayout:function(a){a.each(function(){var a= d(this).find(".ompf-desc-wrapper");a.length&&a.data("last-height",a.css("height"))});a.find(".ompf-desc-wrapper").css("height","auto")},beforeAnimation:function(a,b){var c=[],h=[],g=-1,e=-1;a.each(function(a){var b=d(this).data("isotope-item-position"),b=b.y;b!=g&&(e++,c[e]=[],h[e]=0,g=b);c[e].push(a);a=d(this).find(".ompf-desc-wrapper").height();a>h[e]&&(h[e]=a)});var f,k;for(f=0;f<c.length;f++)for(k=0;k<c[f].length;k++){var l=a.eq(c[f][k]).find(".ompf-desc-wrapper"),m=l.data("last-height");m&&l.css("height", m);l.animate({height:h[f]+"px"},{duration:600,queue:!1})}}})):b.hasClass("ompf-layout-masonry")&&jQuery.extend(c,{layoutMode:"masonry"});var g=jQuery(".ompf-isotope-sort").find("a");g.click(function(){if(jQuery(this).hasClass("ompf-active"))return!1;g.removeClass("ompf-active");jQuery(this).addClass("ompf-active");var a=jQuery(this).attr("href").split("#"),a=a[1];c.filter=".ompf-"+a;b.removeClass("no-transition");b.isotopeOm(c);document.location.hash=a;return!1});b.addClass("no-transition");b.isotopeOm(c); document.location.hash&&g.filter("[href$="+document.location.hash+"]").click();jQuery(window).bind("load",function(){b.isotopeOm("reLayout")});d(window).smartresize(function(){b.isotopeOm("reLayout")})}}d(".ompf-responsive-embed").each(function(){var a=d(this).children(":first");if(a.length){var b=parseInt(a.attr("width")),a=parseInt(a.attr("height"));!isNaN(b)&&!isNaN(a)&&0<b&&0<a&&(b=a/b,d(this).css("padding-bottom",100*b+"%"))}})});